<DOCTYPE html>
<html xmlsn:th="http://www.thymeleaf.org" lang="pt-br">
	<head>
		<meta charset="UTF-8"/>
		<title>Lista de Alunos</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
	</head>
	<body class="container mt-5">
		<h2 class="container text-center">Lista de Alunos</h2>
		<table class="table table-bordered table-striped mt-3">
			<thead>
				<tr>
					<th>ID</th><th>Nome</th><th>Endereço</th><th>Curso</th><th>Atualizar</th><th>Apagar</th>
				</tr>
			</thead>
			<tbody th:each="aluno : ${alunos}">
				<td th:text="${aluno.id}"></td>
				<td th:text="${aluno.nome}"></td>
				<td th:text="${aluno.endereco != null ? ${aluno.endereco.rua} : 'Sem Informação"></td>
				<td th:text="${aluno.curso.nome}"></td>
				<td>
					<a th:href="@{/alunos/editar/{id}(id=${aluno.id})}" class="btn btn-warning sm-5">Editar</a>
				</td>
				<td>
					<form th:action="@{alunos/excluir/{id} (id=${aluno.id})}" method="post">
						<input type="hidden" name="_method" value="delete"/>
						<button type="submit" class="btn btn-danger sm-5" onclick="return confirm('Deseja apagar os dados desse aluno?')">Excluir</button>
					</form>
				</td>
			</tbody>
		</table>
		<div class="container text-center">
			<a th:href="@{/cadastrar/aluno}" class="btn btn-primary">Cadastrar Novo Aluno</a>
		</div>
	</body>
</html>